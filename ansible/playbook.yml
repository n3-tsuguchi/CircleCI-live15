---
- hosts: web_server
  remote_user: ec2-user
  tasks:
    - name: yum Upgrade all packages
      become: yes
      yum:
        name: "*"
        state: latest
      ignore_errors: yes

    - name: yum install package
      become: yes
      yum:
        name:
          - git
          - gcc-c++
          - patch
          - bzip2
          - openssl-devel
          - libyaml-devel
          - libffi-devel
          - readline-devel
          - zlib-devel
          - gdbm-devel
          - ncurses-devel
          - make
          - curl
          - ImageMagick-devel
          - libcurl-devel
          - libicu-devel
          - libxml2-devel
          - libxslt-devel
        state: present
